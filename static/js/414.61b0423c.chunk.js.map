{"version":3,"file":"static/js/414.61b0423c.chunk.js","mappings":"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","sources":["screens/Hadith.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { ChevronLeft, ChevronRight, Book } from \"lucide-react\";\r\nimport axios from \"axios\";\r\nimport { ScreenName, ScreenParams } from \"../types\";\r\n\r\n// Dummy data for demonstration\r\n\r\ninterface HadithScreenProps {\r\n  onNavigate: (screenName: ScreenName, params: ScreenParams) => void;\r\n  bookId: number | undefined;\r\n  faslId: number | undefined;\r\n  categoryId: number | undefined;\r\n  firstHadith: number | undefined;\r\n}\r\n\r\nconst HadithScreen: React.FC<HadithScreenProps> = ({\r\n  bookId,\r\n  faslId,\r\n  categoryId,\r\n  firstHadith,\r\n}) => {\r\n  const [hadiths, setHadiths] = useState<any[]>([]);\r\n  const fetchHadiths = async (hadith_no: number) => {\r\n    const res = await axios.get(`http://192.168.1.4:5000/api/hadiths`, {\r\n      params: {\r\n        hadith_no,\r\n      },\r\n    });\r\n    setHadiths(res.data.hadiths || []);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHadiths(firstHadith || 1);\r\n  }, []);\r\n\r\n  const goToNextHadith = async () => {\r\n    await fetchHadiths(hadiths[0].hadith_no + 1);\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  };\r\n\r\n  const goToPrevHadith = async () => {\r\n    await fetchHadiths(hadiths[0].hadith_no - 1);\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  };\r\n  const takhreej = hadiths[hadiths.length - 1]?.takhreej;\r\n\r\n  const footnotes = hadiths.flatMap((hadith) => hadith.footnotes);\r\n\r\n  function parseTextWithLinks(text: string) {\r\n    return text.replace(/{\\[(\\d+)]}/g, (match, number) => {\r\n      const anchorLink = `#ref${number}`; // Link to anchor ID on the same page\r\n      return `<a href=\"${anchorLink}\">${match}</a>`;\r\n    });\r\n  }\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen bg-gray-50 pt-16 pb-20\">\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 p-4\">\r\n        {/* Category Name */}\r\n        <div className=\"bg-green-600 text-white p-3 rounded-t-lg text-right\">\r\n          <h2 className=\"text-lg font-bold\">{hadiths?.[0]?.category_name}</h2>\r\n        </div>\r\n        {/* Hadith Card */}\r\n        {hadiths.map((hadith: any, i: number) => (\r\n          <>\r\n            {\" \"}\r\n            <div className=\"bg-white rounded-b-lg shadow-lg p-6 mb-4\" key={i}>\r\n              {/* Hadith Number */}\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <span className=\"text-green-600 font-bold text-lg\">\r\n                  حديث رقم: {hadith.hadith_no}\r\n                </span>\r\n              </div>\r\n\r\n              {/* Hadith Text */}\r\n              <div\r\n                className=\"text-right mb-6 leading-relaxed text-lg\"\r\n                dangerouslySetInnerHTML={{\r\n                  __html: parseTextWithLinks(hadith.hadith_text),\r\n                }}\r\n              ></div>\r\n\r\n              {/* Reference and Hukm */}\r\n              <div className=\"flex justify-between items-center text-sm border-t pt-4\">\r\n                <span className=\"text-gray-600\">{hadith.reference}</span>\r\n                <span className=\"text-green-600 font-semibold\">\r\n                  {hadith.hukm}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </>\r\n        ))}\r\n        {/* Footnotes Section */}\r\n        {(footnotes.length > 0 || takhreej) && (\r\n          <div className=\"bg-white rounded-lg shadow-lg p-6 mt-4  mb-4\">\r\n            {footnotes.length > 0 && (\r\n              <h3 className=\"text-right font-bold text-lg mb-3 text-green-600\">\r\n                الشرح والفوائد\r\n              </h3>\r\n            )}\r\n            {footnotes.map((footnote, i) => (\r\n              <div className=\"text-right text-gray-700\">\r\n                <p key={i} className=\"mb-2\" id={`ref${i}`}>\r\n                  {`{[${i + 1}]}`} {footnote.footnotes}\r\n                </p>\r\n              </div>\r\n            ))}\r\n            {takhreej && (\r\n              <div\r\n                className={`${\r\n                  footnotes.length > 0 ? \"mt-4 pt-4 border-t\" : \"\"\r\n                }`}\r\n              >\r\n                <h4 className=\"text-right font-bold mb-2 text-green-600\">\r\n                  التخريج\r\n                </h4>\r\n                <p className=\"text-right text-gray-700\">{takhreej}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Navigation Arrows */}\r\n      <div className=\"fixed bottom-20 left-0 right-0 flex justify-between px-4 py-2\">\r\n        <button\r\n          onClick={goToPrevHadith}\r\n          className={`bg-green-600 text-white p-3 rounded-full shadow-lg ${\"hover:bg-green-700\"}`}\r\n        >\r\n          <ChevronRight className=\"h-6 w-6\" />\r\n        </button>\r\n        <button\r\n          onClick={goToNextHadith}\r\n          className={`bg-green-600 text-white p-3 rounded-full shadow-lg ${\"hover:bg-green-700\"}`}\r\n        >\r\n          <ChevronLeft className=\"h-6 w-6\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HadithScreen;\r\n"],"names":["_ref","_hadiths","_hadiths$","bookId","faslId","categoryId","firstHadith","hadiths","setHadiths","useState","fetchHadiths","async","res","axios","get","params","hadith_no","data","useEffect","takhreej","length","footnotes","flatMap","hadith","_jsxs","className","children","_jsx","category_name","map","i","_Fragment","dangerouslySetInnerHTML","__html","text","hadith_text","replace","match","number","reference","hukm","footnote","id","onClick","window","scrollTo","top","behavior","ChevronRight","ChevronLeft"],"sourceRoot":""}